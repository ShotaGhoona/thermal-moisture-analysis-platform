# ページ仕様書・ワイヤーフレーム

## 1. ホーム画面（トップページ）

### 基本情報
- **ページID**: `HOME_001`
- **ページタイトル**: "熱水分同時移動解析 Web版"
- **URL**: `/`
- **アクセス権**: 全ユーザー

### レイアウト構成
```
┌─────────────────────────────────────────────────────────┐
│ ヘッダー                                                 │
│ [ロゴ] 熱水分同時移動解析 Web版          [システム情報]  │
├─────────────────────────────────────────────────────────┤
│                                                         │
│           メインコンテンツエリア                        │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │                アクションカード                    │   │
│  │                                                 │   │
│  │    🧮 新規計算を開始                           │   │
│  │    熱・水分移動計算を実行します                 │   │
│  │                              [計算開始 →]      │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │              サブアクションエリア                  │   │
│  │                                                 │   │
│  │  📋 シミュレーション履歴    🔬 材料データベース    │   │
│  │  過去の計算結果を確認       利用可能な材料を参照    │   │
│  │  [履歴を見る]              [材料を調べる]        │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │                  システム状況                      │   │
│  │                                                 │   │
│  │  Julia計算エンジン: ✅ 動作中                    │   │
│  │  対応材料数: 40種類                             │   │
│  │  並列実行可能数: 3計算                          │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
├─────────────────────────────────────────────────────────┤
│ フッター                                                │
│ © 2024 熱水分同時移動解析標準プログラム Web版            │
└─────────────────────────────────────────────────────────┘
```

### UI要素詳細

#### ヘッダー
- **ロゴ・タイトル**: 左上に配置、クリックでホームに戻る
- **システム情報ボタン**: 右上、バージョン・技術情報表示

#### メインアクションカード
- **大きなカード形式**: 視覚的に目立つデザイン
- **アイコン**: 計算を表すアイコン
- **説明文**: 簡潔な機能説明
- **アクションボタン**: 明確な行動誘導

#### サブアクションエリア
- **2カラム配置**: 履歴参照・材料参照
- **カード形式**: 統一されたデザイン
- **アイコン**: 各機能を表すアイコン

#### システム状況表示
- **ステータス表示**: システムの稼働状況
- **統計情報**: 利用可能なリソース情報

### データ要件
- システム稼働状況（API: `/health`）
- 利用可能材料数（API: `/system/info`）
- 実行中計算数（API: `/simulations?status=running`）

### 操作フロー
1. ユーザーがページにアクセス
2. システム状況を自動取得・表示
3. "計算開始"クリック → 計算タイプ選択画面へ
4. "履歴を見る"クリック → シミュレーション履歴画面へ
5. "材料を調べる"クリック → 材料データベース画面へ

---

## 2. 1D計算設定画面 - Step 1: 基本設定

### 基本情報
- **ページID**: `CALC1D_001`
- **ページタイトル**: "1次元計算設定 - 基本設定"
- **URL**: `/calculation/1d/step1`
- **アクセス権**: 全ユーザー

### レイアウト構成
```
┌─────────────────────────────────────────────────────────┐
│ ヘッダー・ナビゲーション                                  │
│ [ホーム] > 1次元計算設定                                 │
├─────────────────────────────────────────────────────────┤
│                                                         │
│ ┌─────────────────────────────────────────────────────┐ │
│ │              プログレスバー                          │ │
│ │ ●━━━━○━━━━○━━━━○                             │ │
│ │ Step1   Step2   Step3   Step4                      │ │
│ │ 基本設定  材料選択  境界条件  確認実行               │ │
│ └─────────────────────────────────────────────────────┘ │
│                                                         │
│         Step 1: 基本設定                               │
│                                                         │
│ ┌─────────────────────────────────────────────────────┐ │
│ │              シミュレーション情報                     │ │
│ │                                                     │ │
│ │ シミュレーション名 *                                │ │
│ │ ┌─────────────────────────────────────────────┐   │ │
│ │ │ [テキスト入力フィールド]                      │   │ │
│ │ └─────────────────────────────────────────────┘   │ │
│ │                                                     │ │
│ │ 説明（任意）                                        │ │
│ │ ┌─────────────────────────────────────────────┐   │ │
│ │ │ [複数行テキスト入力]                          │   │ │
│ │ │                                               │   │ │
│ │ └─────────────────────────────────────────────┘   │ │
│ └─────────────────────────────────────────────────────┘ │
│                                                         │
│ ┌─────────────────────────────────────────────────────┐ │
│ │                計算条件設定                          │ │
│ │                                                     │ │
│ │ 計算開始日時 *                                      │ │
│ │ ┌─────────────┐ ┌──────────┐                      │ │
│ │ │ [日付選択]   │ │ [時刻選択] │                      │ │
│ │ └─────────────┘ └──────────┘                      │ │
│ │                                                     │ │
│ │ 計算終了日時 *                                      │ │
│ │ ┌─────────────┐ ┌──────────┐                      │ │
│ │ │ [日付選択]   │ │ [時刻選択] │                      │ │
│ │ └─────────────┘ └──────────┘                      │ │
│ │                                                     │ │
│ │ 時間刻み *            出力間隔                      │ │
│ │ ┌────────┐秒      ┌────────┐秒                  │ │
│ │ │ [数値]  │         │ [数値]  │                    │ │
│ │ └────────┘         └────────┘                    │ │
│ │                                                     │ │
│ │ 💡 推奨値: 時間刻み 1.0秒、出力間隔 60秒            │ │
│ └─────────────────────────────────────────────────────┘ │
│                                                         │
│ ┌─────────────────────────────────────────────────────┐ │
│ │                     操作ボタン                       │ │
│ │                                                     │ │
│ │ [< 戻る]                              [次へ >]     │ │
│ └─────────────────────────────────────────────────────┘ │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### フォーム項目詳細

#### シミュレーション情報
| 項目名 | 必須 | 形式 | 検証ルール | デフォルト値 |
|--------|------|------|------------|--------------|
| シミュレーション名 | ✓ | テキスト | 1-50文字 | "1D計算_YYYYMMDD" |
| 説明 | - | テキスト | 0-200文字 | "" |

#### 計算条件
| 項目名 | 必須 | 形式 | 検証ルール | デフォルト値 |
|--------|------|------|------------|--------------|
| 計算開始日時 | ✓ | 日時 | 有効な日時 | 今日 00:00:00 |
| 計算終了日時 | ✓ | 日時 | 開始日時より後 | 今日 24:00:00 |
| 時間刻み | ✓ | 数値 | 0.1-60.0秒 | 1.0 |
| 出力間隔 | ✓ | 数値 | 時間刻み以上 | 60.0 |

### バリデーション
- **即座検証**: フォーカス移動時に個別項目を検証
- **送信時検証**: "次へ"ボタン押下時に全項目を検証
- **エラー表示**: 該当フィールドの下部に赤色でエラーメッセージ

### 操作フロー
1. デフォルト値の自動設定
2. ユーザーが各項目を入力
3. リアルタイムバリデーション
4. "次へ"ボタンで Step 2 へ遷移

---

## 3. 1D計算設定画面 - Step 2: 材料選択・壁体構成

### 基本情報
- **ページID**: `CALC1D_002`
- **ページタイトル**: "1次元計算設定 - 材料選択"
- **URL**: `/calculation/1d/step2`
- **アクセス権**: 全ユーザー

### レイアウト構成
```
┌─────────────────────────────────────────────────────────┐
│ ヘッダー・ナビゲーション                                  │
│ [ホーム] > 1次元計算設定 > 材料選択                      │
├─────────────────────────────────────────────────────────┤
│                                                         │
│ ┌─────────────────────────────────────────────────────┐ │
│ │              プログレスバー                          │ │
│ │ ○━━━━●━━━━○━━━━○                             │ │
│ │ Step1   Step2   Step3   Step4                      │ │
│ │ 基本設定  材料選択  境界条件  確認実行               │ │
│ └─────────────────────────────────────────────────────┘ │
│                                                         │
│         Step 2: 材料選択・壁体構成                     │
│                                                         │
│ ┌─────────────────────────────────────────────────────┐ │
│ │                  壁体構成                            │ │
│ │                                                     │ │
│ │ ┌─────────────────────────────────────────────────┐ │ │
│ │ │                壁体断面図                        │ │ │
│ │ │                                                 │ │ │
│ │ │ 室内側 │ 層1 │ 層2 │ 層3 │ 室外側              │ │ │
│ │ │   →   │材料A │材料B │材料C │  →                 │ │ │
│ │ │        │15mm │100mm│15mm │                     │ │ │
│ │ └─────────────────────────────────────────────────┘ │ │
│ │                                                     │ │
│ │ [+ 層を追加]                                        │ │
│ └─────────────────────────────────────────────────────┘ │
│                                                         │
│ ┌─────────────────────────────────────────────────────┐ │
│ │                   層設定一覧                         │ │
│ │                                                     │ │
│ │ 層1: 室内側                                         │ │
│ │ ┌─────────────┐ ┌───────┐ ┌───────┐ [↑][↓][×] │ │
│ │ │材料選択[▼]   │ │厚さ[mm]│ │分割数  │             │ │
│ │ │プラスターボード│ │  15   │ │   3   │             │ │
│ │ └─────────────┘ └───────┘ └───────┘             │ │
│ │                                                     │ │
│ │ 層2: 断熱層                                         │ │
│ │ ┌─────────────┐ ┌───────┐ ┌───────┐ [↑][↓][×] │ │
│ │ │材料選択[▼]   │ │厚さ[mm]│ │分割数  │             │ │
│ │ │グラスウール16K│ │  100  │ │  10   │             │ │
│ │ └─────────────┘ └───────┘ └───────┘             │ │
│ │                                                     │ │
│ │ 層3: 室外側                                         │ │
│ │ ┌─────────────┐ ┌───────┐ ┌───────┐ [↑][↓][×] │ │
│ │ │材料選択[▼]   │ │厚さ[mm]│ │分割数  │             │ │
│ │ │モルタル      │ │  15   │ │   3   │             │ │
│ │ └─────────────┘ └───────┘ └───────┘             │ │
│ └─────────────────────────────────────────────────────┘ │
│                                                         │
│ ┌─────────────────────────────────────────────────────┐ │
│ │              材料選択パネル（右側）                   │ │
│ │                                                     │ │
│ │ 材料カテゴリ: [すべて▼] 検索: [_______] [🔍]       │ │
│ │                                                     │ │
│ │ ┌─────────────────────────────────────────────────┐ │ │
│ │ │           材料一覧（スクロール）                  │ │ │
│ │ │                                                 │ │ │
│ │ │ □ プラスターボード                               │ │ │
│ │ │   密度: 680 kg/m³, 熱伝導率: 0.17 W/mK         │ │ │
│ │ │                              [詳細] [選択]     │ │ │
│ │ │                                                 │ │ │
│ │ │ □ グラスウール16K                               │ │ │
│ │ │   密度: 16 kg/m³, 熱伝導率: 0.045 W/mK         │ │ │
│ │ │                              [詳細] [選択]     │ │ │
│ │ │                                                 │ │ │
│ │ │ □ モルタル                                      │ │ │
│ │ │   密度: 2103 kg/m³, 熱伝導率: 1.49 W/mK        │ │ │
│ │ │                              [詳細] [選択]     │ │ │
│ │ └─────────────────────────────────────────────────┘ │ │
│ └─────────────────────────────────────────────────────┘ │
│                                                         │
│ ┌─────────────────────────────────────────────────────┐ │
│ │                     操作ボタン                       │ │
│ │                                                     │ │
│ │ [< 戻る]                              [次へ >]     │ │
│ └─────────────────────────────────────────────────────┘ │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### UI要素詳細

#### 壁体断面図
- **視覚的表現**: 設定中の壁体構成をリアルタイム表示
- **比例表示**: 厚さの比率に応じた幅で表示
- **材料名表示**: 各層の材料名を表示

#### 層設定一覧
| 項目 | 入力方式 | 検証ルール | 初期値 |
|------|----------|------------|--------|
| 材料選択 | ドロップダウン | 必須選択 | - |
| 厚さ | 数値入力 | 0.1-1000mm | 15 |
| 分割数 | 数値入力 | 1-50 | 3 |

#### 材料選択パネル
- **フィルタ機能**: カテゴリ別・名前検索
- **基本物性表示**: 主要な物性値を一覧表示
- **詳細リンク**: 材料詳細モーダルを開く

### データ要件
- 材料一覧（API: `/materials`）
- 材料詳細（API: `/materials/{id}`）
- 材料カテゴリ一覧

### バリデーション
- **構成要件**: 最低1層以上
- **厚さ制限**: 各層0.1mm以上
- **総厚さ制限**: 合計10m以下
- **分割数制限**: 各層1-50個

---

## 4. 1D計算設定画面 - Step 3: 境界条件設定

### 基本情報
- **ページID**: `CALC1D_003`
- **ページタイトル**: "1次元計算設定 - 境界条件"
- **URL**: `/calculation/1d/step3`
- **アクセス権**: 全ユーザー

### レイアウト構成
```
┌─────────────────────────────────────────────────────────┐
│ ヘッダー・ナビゲーション                                  │
│ [ホーム] > 1次元計算設定 > 境界条件設定                  │
├─────────────────────────────────────────────────────────┤
│                                                         │
│ ┌─────────────────────────────────────────────────────┐ │
│ │              プログレスバー                          │ │
│ │ ○━━━━○━━━━●━━━━○                             │ │
│ │ Step1   Step2   Step3   Step4                      │ │
│ │ 基本設定  材料選択  境界条件  確認実行               │ │
│ └─────────────────────────────────────────────────────┘ │
│                                                         │
│         Step 3: 境界条件設定                           │
│                                                         │
│ ┌─────────────────────────────────────────────────────┐ │
│ │                  室内環境条件                        │ │
│ │                                                     │ │
│ │ 温度 *          相対湿度 *                          │ │
│ │ ┌──────┐°C    ┌──────┐%                        │ │
│ │ │ 20.0 │       │ 60.0 │                           │ │
│ │ └──────┘       └──────┘                           │ │
│ │                                                     │ │
│ │ 熱伝達率                                            │ │
│ │ ┌─────────────┐ ┌─────────────┐              │ │
│ │ │対流: 4.7     │ │輻射: 4.4     │ W/m²K          │ │
│ │ └─────────────┘ └─────────────┘              │ │
│ │                                                     │ │
│ │ 湿気伝達率: ┌─────────────┐ kg/m²sPa               │ │
│ │             │ 3.2e-8      │                       │ │
│ │             └─────────────┘                       │ │
│ │                                                     │ │
│ │ 💡 一般的な室内環境の推奨値が設定されています          │ │
│ └─────────────────────────────────────────────────────┘ │
│                                                         │
│ ┌─────────────────────────────────────────────────────┐ │
│ │                  室外環境条件                        │ │
│ │                                                     │ │
│ │ 温度 *          相対湿度 *                          │ │
│ │ ┌──────┐°C    ┌──────┐%                        │ │
│ │ │ 30.0 │       │ 80.0 │                           │ │
│ │ └──────┘       └──────┘                           │ │
│ │                                                     │ │
│ │ 熱伝達率                                            │ │
│ │ ┌─────────────┐ ┌─────────────┐              │ │
│ │ │対流: 19.0    │ │輻射: 4.0     │ W/m²K          │ │
│ │ └─────────────┘ └─────────────┘              │ │
│ │                                                     │ │
│ │ 湿気伝達率: ┌─────────────┐ kg/m²sPa               │ │
│ │             │ 1.5e-7      │                       │ │
│ │             └─────────────┘                       │ │
│ │                                                     │ │
│ │ 💡 一般的な屋外環境の推奨値が設定されています          │ │
│ └─────────────────────────────────────────────────────┘ │
│                                                         │
│ ┌─────────────────────────────────────────────────────┐ │
│ │                   初期条件                           │ │
│ │                                                     │ │
│ │ 壁体全体の初期状態を設定                            │ │
│ │                                                     │ │
│ │ 初期温度 *      初期相対湿度 *                      │ │
│ │ ┌──────┐°C    ┌──────┐%                        │ │
│ │ │ 25.0 │       │ 70.0 │                           │ │
│ │ └──────┘       └──────┘                           │ │
│ │                                                     │ │
│ │ 💡 室内外の中間値に自動設定されています              │ │
│ └─────────────────────────────────────────────────────┘ │
│                                                         │
│ ┌─────────────────────────────────────────────────────┐ │
│ │               高度な設定（展開可能）                  │ │
│ │                                                     │ │
│ │ [▼] 詳細なパラメータ設定                            │ │
│ │                                                     │ │
│ │ ┌─────────────────────────────────────────────────┐ │ │
│ │ │ 収束判定閾値: ┌────────┐                        │ │ │
│ │ │               │ 1.0e-6 │                        │ │ │
│ │ │               └────────┘                        │ │ │
│ │ │                                                 │ │ │
│ │ │ 最大反復回数: ┌────────┐                        │ │ │
│ │ │               │  1000  │                        │ │ │
│ │ │               └────────┘                        │ │ │
│ │ └─────────────────────────────────────────────────┘ │ │
│ └─────────────────────────────────────────────────────┘ │
│                                                         │
│ ┌─────────────────────────────────────────────────────┐ │
│ │                     操作ボタン                       │ │
│ │                                                     │ │
│ │ [< 戻る]                              [次へ >]     │ │
│ └─────────────────────────────────────────────────────┘ │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### フォーム項目詳細

#### 室内環境条件
| 項目名 | 必須 | 範囲 | デフォルト値 | 単位 |
|--------|------|------|--------------|------|
| 温度 | ✓ | -50 ~ 80 | 20.0 | °C |
| 相対湿度 | ✓ | 0 ~ 100 | 60.0 | % |
| 対流熱伝達率 | ✓ | 1 ~ 50 | 4.7 | W/m²K |
| 輻射熱伝達率 | ✓ | 0 ~ 20 | 4.4 | W/m²K |
| 湿気伝達率 | - | 1e-10 ~ 1e-6 | 3.2e-8 | kg/m²sPa |

#### 室外環境条件
| 項目名 | 必須 | 範囲 | デフォルト値 | 単位 |
|--------|------|------|--------------|------|
| 温度 | ✓ | -50 ~ 80 | 30.0 | °C |
| 相対湿度 | ✓ | 0 ~ 100 | 80.0 | % |
| 対流熱伝達率 | ✓ | 1 ~ 50 | 19.0 | W/m²K |
| 輻射熱伝達率 | ✓ | 0 ~ 20 | 4.0 | W/m²K |
| 湿気伝達率 | - | 1e-10 ~ 1e-6 | 1.5e-7 | kg/m²sPa |

### バリデーション
- **物理的整合性**: 湿度100%以下
- **温度関係**: 物理的に妥当な範囲
- **係数範囲**: 一般的な建築物理の範囲内

---

## 5. 1D計算設定画面 - Step 4: 確認・実行

### 基本情報
- **ページID**: `CALC1D_004`
- **ページタイトル**: "1次元計算設定 - 確認・実行"
- **URL**: `/calculation/1d/step4`
- **アクセス権**: 全ユーザー

### レイアウト構成
```
┌─────────────────────────────────────────────────────────┐
│ ヘッダー・ナビゲーション                                  │
│ [ホーム] > 1次元計算設定 > 確認・実行                    │
├─────────────────────────────────────────────────────────┤
│                                                         │
│ ┌─────────────────────────────────────────────────────┐ │
│ │              プログレスバー                          │ │
│ │ ○━━━━○━━━━○━━━━●                             │ │
│ │ Step1   Step2   Step3   Step4                      │ │
│ │ 基本設定  材料選択  境界条件  確認実行               │ │
│ └─────────────────────────────────────────────────────┘ │
│                                                         │
│         Step 4: 設定確認・計算実行                     │
│                                                         │
│ ┌─────────────────────────────────────────────────────┐ │
│ │                  設定サマリー                        │ │
│ │                                                     │ │
│ │ 📋 基本設定                              [編集]    │ │
│ │ ├ シミュレーション名: 1D計算_20240113              │ │
│ │ ├ 計算期間: 2024/01/01 00:00 ～ 24:00            │ │
│ │ ├ 時間刻み: 1.0秒                                  │ │
│ │ └ 出力間隔: 60秒                                   │ │
│ │                                                     │ │
│ │ 🧱 壁体構成                              [編集]    │ │
│ │ ├ 層1: プラスターボード (15mm, 3分割)             │ │
│ │ ├ 層2: グラスウール16K (100mm, 10分割)            │ │
│ │ └ 層3: モルタル (15mm, 3分割)                     │ │
│ │                                                     │ │
│ │ 🌡️  境界条件                            [編集]    │ │
│ │ ├ 室内: 20.0°C, 60.0%RH                          │ │
│ │ ├ 室外: 30.0°C, 80.0%RH                          │ │
│ │ └ 初期: 25.0°C, 70.0%RH                          │ │
│ └─────────────────────────────────────────────────────┘ │
│                                                         │
│ ┌─────────────────────────────────────────────────────┐ │
│ │                  計算予測情報                        │ │
│ │                                                     │ │
│ │ ✅ 設定検証結果: すべて正常                          │ │
│ │                                                     │ │
│ │ 📊 推定情報                                         │ │
│ │ ├ 推定計算時間: 約5分                               │ │
│ │ ├ 推定メモリ使用量: 128MB                           │ │
│ │ ├ 計算点数: 16点                                    │ │
│ │ └ 出力データ数: 1,440点                             │ │
│ │                                                     │ │
│ │ ⚠️  注意事項                                        │ │
│ │ ├ 計算中はブラウザを閉じても計算は継続されます       │ │
│ │ └ 結果は計算完了まで保存されます                    │ │
│ └─────────────────────────────────────────────────────┘ │
│                                                         │
│ ┌─────────────────────────────────────────────────────┐ │
│ │                  実行アクション                      │ │
│ │                                                     │ │
│ │         ┌─────────────────────────────────┐         │ │
│ │         │                                 │         │ │
│ │         │        🚀 計算を開始する        │         │ │
│ │         │                                 │         │ │
│ │         └─────────────────────────────────┘         │ │
│ │                                                     │ │
│ │                                                     │ │ │
│ │ ┌─────────────┐        ┌─────────────┐           │ │
│ │ │  デモデータで │        │   設定を     │           │ │
│ │ │   試行する   │        │  保存する    │           │ │
│ │ └─────────────┘        └─────────────┘           │ │
│ └─────────────────────────────────────────────────────┘ │
│                                                         │
│ ┌─────────────────────────────────────────────────────┐ │
│ │                     操作ボタン                       │ │
│ │                                                     │ │
│ │ [< 戻る]                              [設定変更]   │ │
│ └─────────────────────────────────────────────────────┘ │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### UI要素詳細

#### 設定サマリー
- **階層表示**: 各設定項目を見やすく整理
- **編集リンク**: 各セクションから対応するStepに戻る
- **アイコン**: 視覚的な分類

#### 計算予測情報
- **検証結果**: 設定の妥当性確認結果
- **推定値**: 計算時間・メモリ・データ量
- **注意事項**: ユーザーへの重要な情報

#### 実行アクション
- **メインボタン**: 目立つ計算開始ボタン
- **サブアクション**: デモ実行・設定保存

### データ要件
- 設定検証（API: `/simulations/validate`）
- 推定計算時間・メモリ使用量

---

## 6. 計算進捗表示画面

### 基本情報
- **ページID**: `PROGRESS_001`
- **ページタイトル**: "計算実行中"
- **URL**: `/calculation/progress/{simulation_id}`
- **アクセス権**: 全ユーザー

### レイアウト構成
```
┌─────────────────────────────────────────────────────────┐
│ ヘッダー・ナビゲーション                                  │
│ [ホーム] > 計算実行中                                    │
├─────────────────────────────────────────────────────────┤
│                                                         │
│              計算実行中                                 │
│                                                         │
│ ┌─────────────────────────────────────────────────────┐ │
│ │                  計算状況                            │ │
│ │                                                     │ │
│ │ シミュレーション: 1D計算_20240113                   │ │
│ │ 開始時刻: 2024-01-13 10:30:15                       │ │
│ │                                                     │ │
│ │ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ │ │
│ │ 67%                                               │ │
│ │ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ │ │
│ │                                                     │ │
│ │ 現在時刻: 2024-01-01 16:00:00                       │ │
│ │ 推定残り時間: 約2分30秒                             │ │
│ │ 経過時間: 3分15秒                                   │ │
│ └─────────────────────────────────────────────────────┘ │
│                                                         │
│ ┌─────────────────────────────────────────────────────┐ │
│ │                 リアルタイムログ                     │ │
│ │                                                     │ │
│ │ ┌─────────────────────────────────────────────────┐ │ │
│ │ │ 10:30:15 [INFO] 計算を開始しました                │ │ │
│ │ │ 10:30:16 [INFO] 材料物性を読み込みました          │ │ │
│ │ │ 10:30:17 [INFO] 初期条件を設定しました            │ │ │
│ │ │ 10:31:00 [INFO] 25% 完了 (6時間分計算済み)       │ │ │
│ │ │ 10:32:00 [INFO] 50% 完了 (12時間分計算済み)      │ │ │
│ │ │ 10:33:00 [INFO] 67% 完了 (16時間分計算済み)      │ │ │
│ │ │ ▼                                               │ │ │
│ │ └─────────────────────────────────────────────────┘ │ │
│ │                                                     │ │
│ │ [📋 ログをファイルに保存]                           │ │
│ └─────────────────────────────────────────────────────┘ │
│                                                         │
│ ┌─────────────────────────────────────────────────────┐ │
│ │                    操作ボタン                        │ │
│ │                                                     │ │
│ │ ┌─────────────┐                ┌─────────────┐      │ │
│ │ │    ⏸️        │                │    🏠       │      │ │
│ │ │  計算を中断  │                │ ホームに戻る │      │ │
│ │ └─────────────┘                └─────────────┘      │ │
│ │                                                     │ │
│ │ 💡 計算はバックグラウンドで継続されます               │ │
│ └─────────────────────────────────────────────────────┘ │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### リアルタイム更新
- **WebSocket接続**: 進捗情報をリアルタイム受信
- **自動更新間隔**: 5秒ごとに状態を更新
- **エラーハンドリング**: 接続切断時の自動再接続

---

## 7. 結果表示画面

### 基本情報
- **ページID**: `RESULTS_001`
- **ページタイトル**: "計算結果"
- **URL**: `/results/{simulation_id}`
- **アクセス権**: 全ユーザー

### レイアウト構成
```
┌─────────────────────────────────────────────────────────┐
│ ヘッダー・ナビゲーション                                  │
│ [ホーム] > 計算結果                                      │
├─────────────────────────────────────────────────────────┤
│                                                         │
│              計算結果表示                               │
│                                                         │
│ ┌─────────────────────────────────────────────────────┐ │
│ │                  結果サマリー                        │ │
│ │                                                     │ │
│ │ シミュレーション: 1D計算_20240113                   │ │
│ │ 完了時刻: 2024-01-13 10:35:00 (実行時間: 4分45秒)  │ │
│ │ 計算点数: 16点 × 1,440時刻 = 23,040データポイント   │ │
│ │                                                     │ │
│ │ [📥 CSV形式でダウンロード] [📊 グラフ画像保存]     │ │
│ └─────────────────────────────────────────────────────┘ │
│                                                         │
│ ┌─────────────────────────────────────────────────────┐ │
│ │                  グラフ表示設定                      │ │
│ │                                                     │ │
│ │ 表示項目: [☑温度] [☑相対湿度] [☐含水率] [☐化学ポテンシャル] │ │
│ │ 表示地点: [☑室内面] [☑中央] [☑室外面] [☐全地点]    │ │
│ │ 時間範囲: [全期間▼] 地点範囲: [選択地点▼]           │ │
│ └─────────────────────────────────────────────────────┘ │
│                                                         │
│ ┌─────────────────────────────────────────────────────┐ │
│ │                  温度変化グラフ                      │ │
│ │                                                     │ │
│ │  35┌─────────────────────────────────────────────┐   │ │
│ │    │                                               │   │ │
│ │ 30 │     室外面 ························            │   │ │
│ │    │           ∧                   ∧              │   │ │
│ │ 25 │     中央 ──────────────────────               │   │ │
│ │    │                                               │   │ │
│ │ 20 │     室内面 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │   │ │
│ │   └┼─────┼─────┼─────┼─────┼─────┼─────┼─────┤   │ │
│ │    0     4     8    12    16    20    24   時刻   │   │ │
│ │                                                     │ │
│ │ [🔍拡大] [📐測定] [⟲リセット] [⚙️設定]              │ │
│ └─────────────────────────────────────────────────────┘ │
│                                                         │
│ ┌─────────────────────────────────────────────────────┐ │
│ │                 相対湿度変化グラフ                   │ │
│ │                                                     │ │
│ │ 100┌─────────────────────────────────────────────┐   │ │
│ │    │                                               │   │ │
│ │ 80 │     室外面 ::::::::::::::::::::::::::::::::    │   │ │
│ │    │                                               │   │ │
│ │ 70 │     中央 ──────────────────────               │   │ │
│ │    │                                               │   │ │
│ │ 60 │     室内面 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │   │ │
│ │   └┼─────┼─────┼─────┼─────┼─────┼─────┼─────┤   │ │
│ │    0     4     8    12    16    20    24   時刻   │   │ │
│ │                                                     │ │
│ │ [🔍拡大] [📐測定] [⟲リセット] [⚙️設定]              │ │
│ └─────────────────────────────────────────────────────┘ │
│                                                         │
│ ┌─────────────────────────────────────────────────────┐ │
│ │                     操作ボタン                       │ │
│ │                                                     │ │
│ │ [🔄 設定変更して再計算] [🏠 ホームに戻る] [📋 履歴を見る] │ │
│ └─────────────────────────────────────────────────────┘ │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### グラフ機能詳細
- **インタラクティブ**: 拡大・縮小・パン操作
- **測定ツール**: 任意の点での値読み取り
- **凡例**: 各系列の説明・表示制御
- **エクスポート**: PNG/SVG形式での保存

### データテーブル（展開可能）
- **ページネーション**: 大量データの効率的表示
- **ソート**: 各列でのソート機能
- **フィルタ**: 時刻・地点での絞り込み

---

この仕様書により、開発者は具体的なUI実装の方向性を理解し、ユーザーは期待される操作性を把握できます。各画面の詳細なワイヤーフレームと機能仕様により、効率的な開発が可能になります。