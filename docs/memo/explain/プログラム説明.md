# 熱水分同時移動解析標準プログラム ver2.3.1 説明書

## プログラムの概要

このプログラムは、**建築材料内部の熱と水分の移動を同時に解析する**ためのJuliaベースの数値計算プログラムです。特に、壁体内部での温度分布と湿度分布の変化を時間経過とともに計算することができます。

## 何ができるプログラムなのか？

### 主な機能
1. **1次元熱水分同時移動解析**: 壁体の厚さ方向での熱と水分の移動を計算
2. **3次元熱水分同時移動解析**: 複雑な3次元モデルでの熱水分移動を計算
3. **建物換気回路網解析**: 建物全体の換気システムを考慮した解析
4. **多様な建築材料に対応**: コンクリート、木材、土壁、断熱材など様々な材料の物性値を内蔵

### 具体的な使用例
- **結露予測**: 壁内部で結露が発生する可能性を予測
- **湿害対策**: 木材の腐朽やカビ発生のリスク評価
- **省エネ設計**: 断熱性能と湿気性能を両立した建物設計
- **文化財保存**: 伝統建築の保存環境設計（和紙、土壁などの解析）

## プログラムの構造

### メインファイル
- `1D_calculation.ipynb`: 1次元解析のメインプログラム
- `3D_calculation.ipynb`: 3次元解析のメインプログラム  
- `network_calculation.ipynb`: 換気回路網解析のメインプログラム
- `main_calc_multivent.ipynb`: 多段階換気解析プログラム

### 重要なモジュール
- `module/transfer_in_media.jl`: 材料内部の熱・水分移動計算の核となる部分
- `module/building_network_model.jl`: 建物全体のモデル構築
- `module/material_property/`: 各種建築材料の物性値定義

### 入力データフォルダ
- `input_data/1D_model/`: 1次元解析用の設定ファイル
- `input_data/3D_data/`: 3次元解析用のデータ
- `input_data/climate_data/`: 気象データ（温度、湿度、日射量など）
- `input_data/building_network_model/`: 建物換気システムの設定

## 計算の流れ（1次元解析の例）

### 1. 解析モデルの設定
```julia
target_model = input_cell_data("./input_data/1D_model/case_washi_v1.csv")
```
解析対象となる壁体の構成（材料の種類、厚さ、初期条件など）を設定します。

### 2. 計算条件の設定
```julia
dt = 0.01  # 計算の時間刻み（時間）
date_calc = DateTime(2023,7,18,11,00,00)  # 計算開始時刻
end_date = DateTime(2023,8,3,00,00,00)    # 計算終了時刻
```

### 3. 気象条件の読み込み
```julia
climate_data_in = input_climate_data("./input_data/climate_data/case_Washi/Indoor.csv")
climate_data_out = input_climate_data("./input_data/climate_data/case_Washi/Airlayer.csv")
```
室内外の温度・湿度データを読み込みます。

### 4. 計算ループ
プログラムは以下を繰り返し計算します：
- 熱流・水分流の計算（フーリエの法則、フィックの法則）
- 熱収支・水分収支の計算
- 新しい温度・湿度の計算
- 時間の進行

### 5. 結果の出力
計算結果はCSVファイルとして`output_data/`フォルダに保存されます。

## 対応する建築材料

プログラムには以下のような多様な建築材料の物性値が組み込まれています：

### 断熱材
- グラスウール
- 押出法ポリスチレンフォーム
- ロックウール

### 構造材
- コンクリート
- ALC（軽量気泡コンクリート）
- 合板
- 構造用合板

### 仕上げ材
- 石膏ボード
- モルタル
- セラミック系サイディング

### 伝統材料
- 土壁
- 和紙（各種）
- 木材（ウェスタンヘムロック等）

### 防水・気密材
- アスファルトフェルト
- 透湿防水シート
- 防湿シート

## 計算の理論背景

このプログラムは以下の物理法則に基づいています：

### 熱移動
- **フーリエの法則**: 熱は温度差に比例して移動
- **熱収支式**: エネルギー保存の法則

### 水分移動
- **フィックの法則**: 水蒸気は水蒸気圧差に比例して移動
- **液水移動**: 毛細管現象による液体水の移動
- **相変化**: 水の蒸発・凝縮

## 使用方法

### 必要な環境
- Julia言語の実行環境
- 必要パッケージ：CSV, DataFrames, Dates

### 基本的な使用手順
1. Juliaを起動
2. 必要なパッケージをインストール（初回のみ）
3. メインファイル（例：`1D_calculation.ipynb`）を開く
4. 解析条件を設定
5. 計算を実行
6. 結果を確認

## 注意事項

- 気象データは必ずヘッダー付きのCSVファイルで準備
- 温度は摂氏（℃）、相対湿度は%で入力
- 計算時間刻み（dt）は解析精度と計算時間のバランスを考慮して設定
- 結果の妥当性は必ず理論値や実測値と比較して確認

## バージョン情報

現在のバージョン：2.3.1
- 様々な物性値の追加
- 3次元解析機能の実装
- 建物換気回路網解析の統合
- ユーザーインターフェースの改善

## 更新履歴

詳細な更新履歴は`update_information.txt`をご参照ください。

---

**このプログラムは建築環境工学の研究・実務において、建物の熱湿気性能を定量的に評価するための強力なツールです。**